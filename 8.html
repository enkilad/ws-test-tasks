<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>8</title>
</head>

<body>
  <script>

    var p = 20;
    function test() {
      P = 30;
      var p = 25;
      console.log('result 0', p);
    }
    function test1() {
      console.log('result 1', p);
      test2(); // вызывается сразу же после test1(), но без аргументов, поэтому undefined
    }
    function test2(p) {
      console.log('result 2', p);
      test3(p); // вызывается сразу же
      function test3(k) {
        var k = 30;
        console.log('result 3', k);
      }
    }
    function test4(M) {
      test4();
      console.log('result 4', M);
    }
    test(); // выводится та 'p', которая находилась в скоупе функции test();
    test1(33); // test1() не принимает никаких аргументов, поэтому выводится 'p' из глобального скоупа
    test2(10); // test2() вызывается без аргументов в скоупе функции test1()
    test3(p). // находится в скоупе test2(), поэтому не может быть вызвана "извне"
      test4(p); // (.метод?), поэтому и не вызывается вовсе

    сonsole.log('result 5', p);

  </script>
</body>

</html>